[Unit]
Description=Memory Slideshow Gunicorn daemon
After=network.target

[Service]
User=memoryapp
Group=www-data
WorkingDirectory=/home/memoryapp/Memory/myMemory
Environment="PATH=/home/memoryapp/Memory/myenv/bin"
Environment="DJANGO_SETTINGS_MODULE=myMemory.settings"
# Uncomment to load environment variables from .env file
# EnvironmentFile=/home/memoryapp/Memory/myMemory/.env

# Use the gunicorn_config.py file
ExecStart=/home/memoryapp/Memory/myenv/bin/gunicorn \
    --config gunicorn_config.py \
    myMemory.wsgi:application

# Or use inline configuration:
# ExecStart=/home/memoryapp/Memory/myenv/bin/gunicorn \
#     --access-logfile - \
#     --error-logfile - \
#     --workers 3 \
#     --bind unix:/run/memory-slideshow.sock \
#     myMemory.wsgi:application

Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target

